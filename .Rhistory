source('~/R/covid/map_province.R')
source('~/R/covid/map_province.R')
setwd("~/R/covid")
source('~/R/covid/map_province.R')
head(df)
names(df)
str(df)
df$data
df[[1]]$data
df[[1]]
df[[1]]$"ï..data"
df[[1]]$'ï..data'
source('~/R/covid/map_province.R')
df[[1]]
names(df[[1]])
df <- df[[1]]
df <- df %>% filter(totale_casi>0) %>% filter(lat>0)
df_ymd <- ymd(as.Date(unique(df$'ï..data')))
df_ymd
df <- df %>% filter(totale_casi>0) %>% filter(lat>0)
df
IT <- map_data("world") %>% filter(region=="Italy")
firstday <- ymd("2020-02-24")
lastday  <- today() - 1
cal <- as.Date(firstday - 1 + seq(firstday:lastday))
fileURL <- paste0("https://raw.githubusercontent.com/pcm-dpc/COVID-19/master/dati-province/dpc-covid19-ita-province-",
paste0(year(cal),sprintf("%02d",month(cal)),sprintf("%02d",day(cal))),
".csv")
df <- map(fileURL,read.csv)
df_scale <- max(unlist(map(df,pull,'totale_casi')))
df<-df[[1]]
df
names(df)
df<-df[[12]]
df<-df[[2]]
df<-df[[10]]
df<-df[[11]]
df<-df[[10]]
df<-df[[9]]
df <- map(fileURL,read.csv)
df_scale <- max(unlist(map(df,pull,'totale_casi')))
length(df)
df<-df[[19]]
df
df <- df %>% filter(totale_casi>0) %>% filter(lat>0)
df_ymd <- ymd(as.Date(unique(df$'ï..data')))
df_ymd
p <- ggplot() +
geom_polygon(data = df_bor, aes(x=long, y = lat, group = group), fill="grey", alpha=0.3) +
geom_circle( data=df,aes(x0=long, y0=lat, r=(totale_casi/df_scale)), fill='red',alpha=0.5) +
ggtitle(paste0("COVID-19  Totale Casi - Giorno: ",df_ymd)) +
annotate("text",x=10,y=36.5,label="https://github.com/sandrocalmanti/covid") +
labs(size="Totale casi") +
theme_void() +
theme(legend.position = "none") +
coord_fixed()
df_bor=IT
p <- ggplot() +
geom_polygon(data = df_bor, aes(x=long, y = lat, group = group), fill="grey", alpha=0.3) +
geom_circle( data=df,aes(x0=long, y0=lat, r=(totale_casi/df_scale)), fill='red',alpha=0.5) +
ggtitle(paste0("COVID-19  Totale Casi - Giorno: ",df_ymd)) +
annotate("text",x=10,y=36.5,label="https://github.com/sandrocalmanti/covid") +
labs(size="Totale casi") +
theme_void() +
theme(legend.position = "none") +
coord_fixed()
p
install.packages(ggforce)
install.packages("ggforce")
install.packages("ggforce")
df_scale
df_scale = 1
p <- ggplot() +
geom_polygon(data = df_bor, aes(x=long, y = lat, group = group), fill="grey", alpha=0.3) +
geom_circle( data=df,aes(x0=long, y0=lat, r=(totale_casi/df_scale)), fill='red',alpha=0.5) +
ggtitle(paste0("COVID-19  Totale Casi - Giorno: ",df_ymd)) +
annotate("text",x=10,y=36.5,label="https://github.com/sandrocalmanti/covid") +
labs(size="Totale casi") +
theme_void() +
theme(legend.position = "none") +
coord_fixed()
p
df_scale = max(df$totale_casi)
p <- ggplot() +
geom_polygon(data = df_bor, aes(x=long, y = lat, group = group), fill="grey", alpha=0.3) +
geom_circle( data=df,aes(x0=long, y0=lat, r=(totale_casi/df_scale)), fill='red',alpha=0.5) +
ggtitle(paste0("COVID-19  Totale Casi - Giorno: ",df_ymd)) +
annotate("text",x=10,y=36.5,label="https://github.com/sandrocalmanti/covid") +
labs(size="Totale casi") +
theme_void() +
theme(legend.position = "none") +
coord_fixed()
p
p <- ggplot() +
geom_polygon(data = df_bor, aes(x=long, y = lat, group = group), fill="grey", alpha=0.3) +
geom_circle( data=df,aes(x0=long, y0=lat, r=(log(totale_casi) - log(df_scale))), fill='red',alpha=0.5) +
ggtitle(paste0("COVID-19  Totale Casi - Giorno: ",df_ymd)) +
annotate("text",x=10,y=36.5,label="https://github.com/sandrocalmanti/covid") +
labs(size="Totale casi") +
theme_void() +
theme(legend.position = "none") +
coord_fixed()
p
p <- ggplot() +
geom_polygon(data = df_bor, aes(x=long, y = lat, group = group), fill="grey", alpha=0.3) +
geom_circle( data=df,aes(x0=long, y0=lat, r=(log(totale_casi)/log(df_scale))), fill='red',alpha=0.5) +
ggtitle(paste0("COVID-19  Totale Casi - Giorno: ",df_ymd)) +
annotate("text",x=10,y=36.5,label="https://github.com/sandrocalmanti/covid") +
labs(size="Totale casi") +
theme_void() +
theme(legend.position = "none") +
coord_fixed()
p
p <- ggplot() +
geom_polygon(data = df_bor, aes(x=long, y = lat, group = group), fill="grey", alpha=0.3) +
geom_circle( data=df,aes(x0=long, y0=lat, r=(log(totale_casi)/(2*log(df_scale)))), fill='red',alpha=0.5) +
ggtitle(paste0("COVID-19  Totale Casi - Giorno: ",df_ymd)) +
annotate("text",x=10,y=36.5,label="https://github.com/sandrocalmanti/covid") +
labs(size="Totale casi") +
theme_void() +
theme(legend.position = "none") +
coord_fixed()
p
IT <- map_data("world") %>% filter(region=="Italy")
firstday <- ymd("2020-02-24")
lastday  <- today() - 1
cal <- as.Date(firstday - 1 + seq(firstday:lastday))
fileURL <- paste0("https://raw.githubusercontent.com/pcm-dpc/COVID-19/master/dati-province/dpc-covid19-ita-province-",
paste0(year(cal),sprintf("%02d",month(cal)),sprintf("%02d",day(cal))),
".csv")
df <- map(fileURL,read.csv)
df_scale <- max(unlist(map(df,pull,'totale_casi')))
p <- map(df,df_map,df_bor=IT,df_scale)
p[[1]]
df_scale
map(df,pull,'totale_casi')
unlist(map(df,pull,'totale_casi'))
max(unlist(map(df,pull,'totale_casi')))
max(unlist(map(df,pull,'totale_casi')),na.omit=TRUE)
a<-unlist(map(df,pull,'totale_casi'))
show(a)
max(a)
max(a,na.rm=TRUE)
df_scale <- max(unlist(map(df,pull,'totale_casi')),na.rm=TRUE)
p <- map(df,df_map,df_bor=IT,df_scale)
p[[19]]
source('~/R/covid/f_df_map.r')
source('~/R/covid/map_province.R')
source('~/R/covid/map_province.R')
source('~/R/covid/f_df_map.r')
source('~/R/covid/map_province.R')
source('~/R/covid/map_province.R')
p[[19]]
source('~/R/covid/map_province.R')
p[[19]]
source('~/R/covid/map_province.R')
p[[19]]
source('~/R/covid/map_province.R')
source('~/R/covid/map_province.R')
p[[19]]
dev.off()
p[[19]]
source('~/R/covid/map_province.R')
df_bor <- IT
df <- df %>% filter(totale_casi>0) %>% filter(lat>0)
df_ymd <- ymd(as.Date(unique(df$'ï..data')))
p <- ggplot() +
geom_polygon(data = df_bor, aes(x=long, y = lat, group = group), fill="grey", alpha=0.3) +
geom_circle( data=df,aes(x0=long, y0=lat, r=(log(totale_casi)/(log(df_scale)))), fill='red',alpha=0.5) +
ggtitle(paste0("COVID-19  Totale Casi - Giorno: ",df_ymd)) +
annotate("text",x=10,y=36.5,label="https://github.com/sandrocalmanti/covid") +
labs(size="Totale casi") +
theme_void() +
theme(legend.position = "none") +
coord_fixed()
df <- df[[19]]
p <- ggplot() +
geom_polygon(data = df_bor, aes(x=long, y = lat, group = group), fill="grey", alpha=0.3) +
geom_circle( data=df,aes(x0=long, y0=lat, r=(log(totale_casi)/(log(df_scale)))), fill='red',alpha=0.5) +
geom_circle(data=c(long=16,lat=36,r=totale_casi), aes(x0=16,y0=46,r=1000/(log(df_scale))), fill='red',alpha=0.5)  +
ggtitle(paste0("COVID-19  Totale Casi - Giorno: ",df_ymd)) +
annotate("text",x=10,y=36.5,label="https://github.com/sandrocalmanti/covid") +
labs(size="Totale casi") +
theme_void() +
theme(legend.position = "none") +
coord_fixed()
p <- ggplot() +
geom_polygon(data = df_bor, aes(x=long, y = lat, group = group), fill="grey", alpha=0.3) +
geom_circle( data=df,aes(x0=long, y0=lat, r=(log(totale_casi)/(log(df_scale)))), fill='red',alpha=0.5) +
geom_circle(aes(x0=16,y0=46,r=1000/(log(df_scale))), fill='red',alpha=0.5)  +
ggtitle(paste0("COVID-19  Totale Casi - Giorno: ",df_ymd)) +
annotate("text",x=10,y=36.5,label="https://github.com/sandrocalmanti/covid") +
labs(size="Totale casi") +
theme_void() +
theme(legend.position = "none") +
coord_fixed()
p
p <- ggplot() +
geom_polygon(data = df_bor, aes(x=long, y = lat, group = group), fill="grey", alpha=0.3) +
geom_circle( data=df,aes(x0=long, y0=lat, r=(log(totale_casi)/(log(df_scale)))), fill='red',alpha=0.5) +
geom_circle(aes(x0=16,y0=46,r=log(1000)/(log(df_scale))), fill='red',alpha=0.5)  +
ggtitle(paste0("COVID-19  Totale Casi - Giorno: ",df_ymd)) +
annotate("text",x=10,y=36.5,label="https://github.com/sandrocalmanti/covid") +
labs(size="Totale casi") +
theme_void() +
theme(legend.position = "none") +
coord_fixed()
p
df <- df %>% filter(totale_casi>0) %>% filter(lat>0)
df_ymd <- ymd(as.Date(unique(df$'ï..data')))
p <- ggplot() +
geom_polygon(data = df_bor, aes(x=long, y = lat, group = group), fill="grey", alpha=0.3) +
geom_circle( data=df,aes(x0=long, y0=lat, r=(log(totale_casi)/(log(df_scale)))), fill='red',alpha=0.5) +
geom_circle(aes(x0=16,y0=46,r=log(1000)/(log(df_scale))), fill='red',alpha=0.5)  +
ggtitle(paste0("COVID-19  Totale Casi - Giorno: ",df_ymd)) +
annotate("text",x=10,y=36.5,label="https://github.com/sandrocalmanti/covid") +
labs(size="Totale casi") +
theme_void() +
theme(legend.position = "none") +
coord_fixed()
p
p <- ggplot() +
geom_polygon(data = df_bor, aes(x=long, y = lat, group = group), fill="grey", alpha=0.3) +
geom_circle( data=df,aes(x0=long, y0=lat, r=(log(totale_casi)/(log(df_scale)))), fill='red',alpha=0.5) +
geom_circle(aes(x0=18,y0=46,r=log(1000)/(log(df_scale))), fill='red',alpha=0.5)  +
ggtitle(paste0("COVID-19  Totale Casi - Giorno: ",df_ymd)) +
annotate("text",x=10,y=36.5,label="https://github.com/sandrocalmanti/covid") +
labs(size="Totale casi") +
theme_void() +
theme(legend.position = "none") +
coord_fixed()
p
p <- ggplot() +
geom_polygon(data = df_bor, aes(x=long, y = lat, group = group), fill="grey", alpha=0.3) +
geom_circle( data=df,aes(x0=long, y0=lat, r=(log(totale_casi)/(log(df_scale)))), fill='red',alpha=0.5) +
geom_circle(aes(x0=18,y0=46,r=log(1000)/(log(df_scale))), fill='red',alpha=0.5)  +
geom_circle(aes(x0=18,y0=44,r=log(100)/(log(df_scale))), fill='red',alpha=0.5)  +
ggtitle(paste0("COVID-19  Totale Casi - Giorno: ",df_ymd)) +
annotate("text",x=10,y=36.5,label="https://github.com/sandrocalmanti/covid") +
labs(size="Totale casi") +
theme_void() +
theme(legend.position = "none") +
coord_fixed()
p
p <- ggplot() +
geom_polygon(data = df_bor, aes(x=long, y = lat, group = group), fill="grey", alpha=0.3) +
geom_circle( data=df,aes(x0=long, y0=lat, r=(log(totale_casi)/(log(df_scale)))), fill='red',alpha=0.5) +
geom_circle(aes(x0=18,y0=46,r=log(1000)/(log(df_scale))), fill='red',alpha=0.5)  +
geom_circle(aes(x0=18,y0=45,r=log(100)/(log(df_scale))), fill='red',alpha=0.5)  +
ggtitle(paste0("COVID-19  Totale Casi - Giorno: ",df_ymd)) +
annotate("text",x=10,y=36.5,label="https://github.com/sandrocalmanti/covid") +
labs(size="Totale casi") +
theme_void() +
theme(legend.position = "none") +
coord_fixed()
p
p <- ggplot() +
geom_polygon(data = df_bor, aes(x=long, y = lat, group = group), fill="grey", alpha=0.3) +
geom_circle( data=df,aes(x0=long, y0=lat, r=(log(totale_casi)/(log(df_scale)))), fill='red',alpha=0.5) +
geom_circle(aes(x0=18,y0=46,r=log(1000)/(log(df_scale))), fill='red',alpha=0.5)  +
geom_circle(aes(x0=18,y0=45,r=log(100)/(log(df_scale))), fill='red',alpha=0.5)  +
geom_circle(aes(x0=18,y0=45,r=log(10)/(log(df_scale))), fill='red',alpha=0.5)  +
ggtitle(paste0("COVID-19  Totale Casi - Giorno: ",df_ymd)) +
annotate("text",x=10,y=36.5,label="https://github.com/sandrocalmanti/covid") +
labs(size="Totale casi") +
theme_void() +
theme(legend.position = "none") +
coord_fixed()
p
p <- ggplot() +
geom_polygon(data = df_bor, aes(x=long, y = lat, group = group), fill="grey", alpha=0.3) +
geom_circle( data=df,aes(x0=long, y0=lat, r=(log(totale_casi)/(log(df_scale)))), fill='red',alpha=0.5) +
geom_circle(aes(x0=18,y0=46,r=log(1000)/(log(df_scale))), fill='red',alpha=0.5)  +
geom_circle(aes(x0=18,y0=45,r=log(100)/(log(df_scale))), fill='red',alpha=0.5)  +
geom_circle(aes(x0=18,y0=44,r=log(10)/(log(df_scale))), fill='red',alpha=0.5)  +
ggtitle(paste0("COVID-19  Totale Casi - Giorno: ",df_ymd)) +
annotate("text",x=10,y=36.5,label="https://github.com/sandrocalmanti/covid") +
labs(size="Totale casi") +
theme_void() +
theme(legend.position = "none") +
coord_fixed()
p
p <- ggplot() +
geom_polygon(data = df_bor, aes(x=long, y = lat, group = group), fill="grey", alpha=0.3) +
geom_circle( data=df,aes(x0=long, y0=lat, r=(log(totale_casi)/(log(df_scale)))), fill='red',alpha=0.5) +
geom_circle(aes(x0=18,y0=46,r=log(1000)/(log(df_scale))), fill='red',alpha=0.5)  +
geom_circle(aes(x0=18,y0=45,r=log(100)/(log(df_scale))), fill='red',alpha=0.5)  +
geom_circle(aes(x0=18,y0=44.5,r=log(10)/(log(df_scale))), fill='red',alpha=0.5)  +
ggtitle(paste0("COVID-19  Totale Casi - Giorno: ",df_ymd)) +
annotate("text",x=10,y=36.5,label="https://github.com/sandrocalmanti/covid") +
labs(size="Totale casi") +
theme_void() +
theme(legend.position = "none") +
coord_fixed()
p
p <- ggplot() +
geom_polygon(data = df_bor, aes(x=long, y = lat, group = group), fill="grey", alpha=0.3) +
geom_circle( data=df,aes(x0=long, y0=lat, r=(log(totale_casi)/(log(df_scale)))), fill='red',alpha=0.5) +
geom_circle(aes(x0=18,y0=46,r=log(1000)/(log(df_scale))), fill='red',alpha=0.5)  +
geom_circle(aes(x0=18,y0=45,r=log(100)/(log(df_scale))), fill='red',alpha=0.5)  +
geom_circle(aes(x0=18,y0=44.2,r=log(10)/(log(df_scale))), fill='red',alpha=0.5)  +
ggtitle(paste0("COVID-19  Totale Casi - Giorno: ",df_ymd)) +
annotate("text",x=10,y=36.5,label="https://github.com/sandrocalmanti/covid") +
labs(size="Totale casi") +
theme_void() +
theme(legend.position = "none") +
coord_fixed()
p
p <- ggplot() +
geom_polygon(data = df_bor, aes(x=long, y = lat, group = group), fill="grey", alpha=0.3) +
geom_circle( data=df,aes(x0=long, y0=lat, r=(log(totale_casi)/(log(df_scale)))), fill='red',alpha=0.5) +
geom_circle(aes(x0=18,y0=46,r=log(1000)/(log(df_scale))), fill='red',alpha=0.5)  +
geom_circle(aes(x0=18,y0=45,r=log(100)/(log(df_scale))), fill='red',alpha=0.5)  +
geom_circle(aes(x0=18,y0=44.2,r=log(10)/(log(df_scale))), fill='red',alpha=0.5)  +
ggtitle(paste0("COVID-19  Totale Casi per provincia - ",df_ymd)) +
annotate("text",x=16,y=36.5,label="https://github.com/sandrocalmanti/covid") +
labs(size="Totale casi") +
theme_void() +
theme(legend.position = "none") +
coord_fixed()
p
ggsave(file=paste0('./PLOT/COVID-19_map_',df_ymd,'.png'),plot=p,height=7,width=7,align='right')
ggsave(file=paste0('./PLOT/COVID-19_map_',df_ymd,'.png'),plot=p,height=7,width=7,alignment='right')
p <- ggplot() +
geom_polygon(data = df_bor, aes(x=long, y = lat, group = group), fill="grey", alpha=0.3) +
geom_circle( data=df,aes(x0=long, y0=lat, r=(log(totale_casi)/(log(df_scale)))), fill='red',alpha=0.5) +
geom_circle(aes(x0=18,y0=46,r=log(1000)/(log(df_scale))), fill='red',alpha=0.5)  +
geom_circle(aes(x0=18,y0=45,r=log(100)/(log(df_scale))), fill='red',alpha=0.5)  +
geom_circle(aes(x0=18,y0=44.2,r=log(10)/(log(df_scale))), fill='red',alpha=0.5)  +
ggtitle(paste0("COVID-19  Totale Casi per provincia - ",df_ymd)) +
annotate("text",x=14,y=36.5,label="https://github.com/sandrocalmanti/covid",) +
labs(size="Totale casi") +
theme_void() +
theme(legend.position = "none") +
coord_fixed()
p
p <- ggplot() +
geom_polygon(data = df_bor, aes(x=long, y = lat, group = group), fill="grey", alpha=0.3) +
geom_circle( data=df,aes(x0=long, y0=lat, r=(log(totale_casi)/(log(df_scale)))), fill='red',alpha=0.5) +
geom_circle(aes(x0=18,y0=46,r=log(1000)/(log(df_scale))), fill='red',alpha=0.5)  +
geom_circle(aes(x0=18,y0=45,r=log(100)/(log(df_scale))), fill='red',alpha=0.5)  +
geom_circle(aes(x0=18,y0=44.2,r=log(10)/(log(df_scale))), fill='red',alpha=0.5)  +
ggtitle(paste0("COVID-19  Totale Casi per provincia - ",df_ymd)) +
annotate("text",x=15,y=36.5,label="https://github.com/sandrocalmanti/covid") +
annotate("text",x=16,y=46,label="https://github.com/sandrocalmanti/covid") +
labs(size="Totale casi") +
theme_void() +
theme(legend.position = "none") +
coord_fixed()
p
p <- ggplot() +
geom_polygon(data = df_bor, aes(x=long, y = lat, group = group), fill="grey", alpha=0.3) +
geom_circle( data=df,aes(x0=long, y0=lat, r=(log(totale_casi)/(log(df_scale)))), fill='red',alpha=0.5) +
geom_circle(aes(x0=18,y0=46,r=log(1000)/(log(df_scale))), fill='red',alpha=0.5)  +
geom_circle(aes(x0=18,y0=45,r=log(100)/(log(df_scale))), fill='red',alpha=0.5)  +
geom_circle(aes(x0=18,y0=44.2,r=log(10)/(log(df_scale))), fill='red',alpha=0.5)  +
ggtitle(paste0("COVID-19  Totale Casi per provincia - ",df_ymd)) +
annotate("text",x=15,y=36.5,label="https://github.com/sandrocalmanti/covid") +
annotate("text",x=16,y=46,label="1000") +
labs(size="Totale casi") +
theme_void() +
theme(legend.position = "none") +
coord_fixed()
p
p <- ggplot() +
geom_polygon(data = df_bor, aes(x=long, y = lat, group = group), fill="grey", alpha=0.3) +
geom_circle( data=df,aes(x0=long, y0=lat, r=(log(totale_casi)/(log(df_scale)))), fill='red',alpha=0.5) +
geom_circle(aes(x0=18,y0=46,r=log(1000)/(log(df_scale))), fill='red',alpha=0.5)  +
geom_circle(aes(x0=18,y0=45,r=log(100)/(log(df_scale))), fill='red',alpha=0.5)  +
geom_circle(aes(x0=18,y0=44.2,r=log(10)/(log(df_scale))), fill='red',alpha=0.5)  +
ggtitle(paste0("COVID-19  Totale Casi per provincia - ",df_ymd)) +
annotate("text",x=15,y=36.5,label="https://github.com/sandrocalmanti/covid") +
annotate("text",x=17,y=46,label="1000") +
labs(size="Totale casi") +
theme_void() +
theme(legend.position = "none") +
coord_fixed()
p
p <- ggplot() +
geom_polygon(data = df_bor, aes(x=long, y = lat, group = group), fill="grey", alpha=0.3) +
geom_circle( data=df,aes(x0=long, y0=lat, r=(log(totale_casi)/(log(df_scale)))), fill='red',alpha=0.5) +
geom_circle(aes(x0=18,y0=46,r=log(1000)/(log(df_scale))), fill='red',alpha=0.5)  +
geom_circle(aes(x0=18,y0=45,r=log(100)/(log(df_scale))), fill='red',alpha=0.5)  +
geom_circle(aes(x0=18,y0=44.2,r=log(10)/(log(df_scale))), fill='red',alpha=0.5)  +
ggtitle(paste0("COVID-19  Totale Casi per provincia - ",df_ymd)) +
annotate("text",x=12,y=36.5,label="https://github.com/sandrocalmanti/covid") +
annotate("text",x=17,y=46,label="1000") +
annotate("text",x=17,y=46,label="100") +
annotate("text",x=17,y=46,label="10") +
labs(size="Totale casi") +
theme_void() +
theme(legend.position = "none") +
coord_fixed()
p
p <- ggplot() +
geom_polygon(data = df_bor, aes(x=long, y = lat, group = group), fill="grey", alpha=0.3) +
geom_circle( data=df,aes(x0=long, y0=lat, r=(log(totale_casi)/(log(df_scale)))), fill='red',alpha=0.5) +
geom_circle(aes(x0=18,y0=46,r=log(1000)/(log(df_scale))), fill='red',alpha=0.5)  +
geom_circle(aes(x0=18,y0=45,r=log(100)/(log(df_scale))), fill='red',alpha=0.5)  +
geom_circle(aes(x0=18,y0=44.2,r=log(10)/(log(df_scale))), fill='red',alpha=0.5)  +
ggtitle(paste0("COVID-19  Totale Casi per provincia - ",df_ymd)) +
annotate("text",x=12,y=36.5,label="https://github.com/sandrocalmanti/covid") +
annotate("text",x=17,y=46,label="1000") +
annotate("text",x=17,y=45,label="100") +
annotate("text",x=17,y=44.2,label="10") +
labs(size="Totale casi") +
theme_void() +
theme(legend.position = "none") +
coord_fixed()
p
p <- ggplot() +
geom_polygon(data = df_bor, aes(x=long, y = lat, group = group), fill="grey", alpha=0.3) +
geom_circle( data=df,aes(x0=long, y0=lat, r=(log(totale_casi)/(log(df_scale)))), fill='red',alpha=0.5) +
geom_circle(aes(x0=18,y0=46,r=log(1000)/(log(df_scale))), fill='red',alpha=0.5)  +
geom_circle(aes(x0=18,y0=45,r=log(100)/(log(df_scale))), fill='red',alpha=0.5)  +
geom_circle(aes(x0=18,y0=44.2,r=log(10)/(log(df_scale))), fill='red',alpha=0.5)  +
ggtitle(paste0("COVID-19  Totale Casi per provincia - ",df_ymd)) +
annotate("text",x=10,y=36.5,label="https://github.com/sandrocalmanti/covid") +
annotate("text",x=17,y=46,label="1000") +
annotate("text",x=17,y=45,label="100") +
annotate("text",x=17,y=44.2,label="10") +
labs(size="Totale casi") +
theme_void() +
theme(legend.position = "none") +
coord_fixed()
p
source('~/R/covid/f_df_map.r')
source('~/R/covid/map_province.R')
names(df[[1]])
source('~/R/covid/map_province.R')
source('~/R/covid/f_df_map.r')
source('~/R/covid/f_df_map.r')
